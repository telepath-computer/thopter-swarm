- setup ntfy.sh integration - when claude hooks for done/waiting/notify fire, publish to ntfy. the channel name should be decided by the dev in their homedir thopter config which then sets up THOPTER_NTFY_CHANEL in the env of the thopter. readme should instruct how to do that. setup cli mode should walk them thru it.
- Have developer names associated with thopters. use github name. tag them owner:name in runloop, give an environment var THOPTER_OWNER, and include owner in redis status bits.
- purge redis statue on dead thopters (does it expire automatically?)
- DONE use 'thopter' for the command
- have thopter cmd install somewhere global.
- move runloop api key and redis url to homedir config file, not .env.local 
- replace the api keys with team keys
- IN PROGRESS add read access to github issues to the PAT, tell claude md it can read the repo, read issues, but only push on thopter branches, no other privs. (can it create PRs? i should have it be able to do that)
- Write better docs.
  - in particular write the developer guide for my coworkers.
    - i've setup the runloop workspace already. secrets etc
    - they need to npm install
    - setup their thopter config w/ api key and redis url
    - create a new instance of their own
    - auth claude w/ max, codex if desired
    - snapshot it
    - set default snapshot
    - use yolo claude
- Put API keys and such in team 1Password.
- Secrets brittleness: currently all platform secrets are injected into every devbox.
  Deleting or renaming a secret breaks resume for any suspended devbox provisioned
  with it (adding secrets and changing values is fine). Profiles (see below) should
  fix this — each profile whitelists specific secrets, so the devbox's secret set
  is explicit and stable. Until then, destroy affected devboxes before deleting secrets.
- Cloudflare Worker keepalive proxy: a ~20-line worker that holds the Runloop API key
  and exposes a simple authenticated endpoint for devboxes to call keepalive on themselves.
  Thopters would get KEEPALIVE_URL + KEEPALIVE_TOKEN instead of the full API key.
  This would let thopters self-keepalive without keys to the kingdom.
- claude statuses per claude PID instead of per thopter
- Try building a task system in Redis
- Profiles: named configuration bundles for different projects/workflows.
  A profile would control:
  - Which secrets get injected (subset of Runloop secrets)
  - Custom init script / dependency installation per profile
  - Default snapshot (per-profile golden image instead of one global default)
  - Resource size (not everything needs LARGE)
  - Idle timeout
  - Repo URL + branch to clone
  - Git identity (bot user, email)
  Profile name gets tagged as metadata on the devbox.
  Stored in local config (~/.runloop-thopters/profiles/).
  Usage: ./thopter create --profile my-project

Runloop platform wishlist:
- Destroy suspended devboxes: need to be able to delete a suspended devbox
  without resuming it first. If secrets have changed since the devbox was
  created, resume fails — leaving the devbox stuck (can't resume, can't
  destroy). Must be able to force-destroy regardless of state.
- Scoped API tokens: ability for a devbox to keep itself alive without having
  the full API key. Ideally a per-devbox token that can only call keep_alive
  on its own devbox ID. This removes the need for external keepalive proxies
  or operator-side watchers.

- DONE Test this with a real developer implementation task round-tripping from Git
- DONE test heartbeat survives suspend/resume cycle
- DONE Upgrade Runloop account to enable suspend/resume
- DONE Sign up for a paid run loop account.
- DONE completely replace this repo with the run loop implementation.
- DONE setup starship.
- DONE Implement hooks to update status for when a thopter is waiting on input or is done and install them in new thopters
- DONE document recommended iterm2 changes:
  - enable "Applications in terminal may access Clipboard."
  - enable "copy to clipboard on selection"
  - enable "mirror tmux paste buffer to clipoard"
- DONE install into new thopters a ~/.claude/CLAUDE.md for host level instructions about thopter context as a runloop devbox, it's a headless kvm context, using and pushing only to thopter/* git branches for workspace, and the task setting ability which it should keep up to date with the high level goal of the session. the main thing is that it needs to know to use thopter/* pattern branches for any pushes to remote git. it should be told about the github pat and how git config is setup to use that. 
- DONE review the auto suspend logic make sure it's sane and that it works
  - Removed Runloop API keepalive from heartbeat cron (was requiring RUNLOOP_API_KEY on devboxes)
  - Bumped default idle timeout to 12 hours
  - Added ./thopter keepalive <name> for operator-side idle timer reset
  - Heartbeat now uses touch file mtime to set "running" (< 1 min) or "inactive" (stale)
  - Hooks (SessionStart, Prompt, ToolUse) touch the activity file; only heartbeat sets "running"


